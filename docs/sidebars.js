/**
 * Creating a sidebar enables you to:
 - create an ordered group of docs
 - render a sidebar for each doc of that group
 - provide next/previous navigation

 The sidebars can be generated from the filesystem, or explicitly defined here.

 Create as many sidebars as you want.
 */

// @ts-check

/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig} */
const sidebars = {
  // Main documentation sidebar
  docsSidebar: [
    // Quick Start
    {
      type: 'category',
      label: 'Quick Start',
      link: {
        type: 'doc',
        id: 'quick-start/index',
      },
      items: [
        'quick-start/setup-environment',
        'quick-start/run-local',
        'quick-start/run-railway',
        'quick-start/first-product',
        'quick-start/first-order',
      ],
    },

    // Core Concepts
    {
      type: 'category',
      label: 'Core Concepts',
      link: {
        type: 'doc',
        id: 'concepts/index',
      },
      items: [
        'concepts/architecture',
        'concepts/director-adapter-pattern',
        'concepts/order-lifecycle',
        'concepts/pricing-system',
        'concepts/authentication',
      ],
    },

    // Platform Configuration
    {
      type: 'category',
      label: 'Platform Configuration',
      link: {
        type: 'doc',
        id: 'platform-configuration/index',
      },
      items: [
        'platform-configuration/environment-variables',
        'platform-configuration/messaging',
        'platform-configuration/plugin-presets',
        'platform-configuration/enable-copilot',
        {
          type: 'category',
          label: 'Modules',
          link: {
            type: 'doc',
            id: 'platform-configuration/modules/index',
          },
          items: [
            { type: 'autogenerated', dirName: 'platform-configuration/modules' },
          ],
        },
      ],
    },

    // Extending
    {
      type: 'category',
      label: 'Extending',
      items: [
        'extend/graphql',
        'extend/custom-modules',
        {
          type: 'category',
          label: 'Order Fulfilment',
          link: {
            type: 'doc',
            id: 'extend/order-fulfilment/index',
          },
          items: [
            'extend/order-fulfilment/carts',
            {
              type: 'category',
              label: 'Custom Plugins',
              items: [
                'extend/order-fulfilment/fulfilment-plugins/payment',
                'extend/order-fulfilment/fulfilment-plugins/delivery',
                'extend/order-fulfilment/fulfilment-plugins/warehousing',
              ],
            },
          ],
        },
        {
          type: 'category',
          label: 'Pricing',
          items: [
            'extend/pricing/product-pricing',
            'extend/pricing/delivery-pricing',
            'extend/pricing/payment-pricing',
            'extend/pricing/order-discounts',
          ],
        },
        {
          type: 'category',
          label: 'Catalog',
          items: [
            'extend/catalog/filter',
            'extend/catalog/search-behavior',
          ],
        },
        'extend/events',
        'extend/quotation',
        'extend/enrollment',
        'extend/worker',
        'extend/admin-ui',
      ],
    },


    // Plugins (root level)
    {
      type: 'category',
      label: 'Plugins',
      link: {
        type: 'doc',
        id: 'plugins/index',
      },
      items: [
        {
          type: 'category',
          label: 'Payment',
          link: { type: 'doc', id: 'plugins/payment/index' },
          items: [
            'plugins/payment/apple-iap',
            'plugins/payment/braintree',
            'plugins/payment/cryptopay',
            'plugins/payment/datatrans',
            'plugins/payment/invoice',
            'plugins/payment/invoice-prepaid',
            'plugins/payment/paypal-checkout',
            'plugins/payment/payrexx',
            'plugins/payment/postfinance-checkout',
            'plugins/payment/saferpay',
            'plugins/payment/stripe',
          ],
        },
        {
          type: 'category',
          label: 'Delivery',
          link: { type: 'doc', id: 'plugins/delivery/index' },
          items: [
            'plugins/delivery/delivery-post',
            'plugins/delivery/delivery-send-message',
            'plugins/delivery/delivery-stores',
          ],
        },
        {
          type: 'category',
          label: 'Pricing',
          link: { type: 'doc', id: 'plugins/pricing/index' },
          items: [
            'plugins/pricing/pricing-product-catalog-price',
            'plugins/pricing/pricing-product-catalog-price-options',
            'plugins/pricing/pricing-product-rate-conversion',
            'plugins/pricing/pricing-product-discount',
            'plugins/pricing/pricing-product-swiss-tax',
            'plugins/pricing/pricing-product-round',
            'plugins/pricing/pricing-delivery-free',
            'plugins/pricing/pricing-delivery-swiss-tax',
            'plugins/pricing/pricing-payment-free',
            'plugins/pricing/pricing-order-items',
            'plugins/pricing/pricing-order-delivery',
            'plugins/pricing/pricing-order-payment',
            'plugins/pricing/pricing-order-items-discount',
            'plugins/pricing/pricing-order-discount',
            'plugins/pricing/pricing-order-round',
            'plugins/pricing/pricing-discount-100-off',
            'plugins/pricing/pricing-discount-half-price',
            'plugins/pricing/pricing-discount-half-price-manual',
          ],
        },
        {
          type: 'category',
          label: 'Warehousing',
          link: { type: 'doc', id: 'plugins/warehousing/index' },
          items: [
            'plugins/warehousing/warehousing-store',
            'plugins/warehousing/warehousing-eth-minter',
          ],
        },
        {
          type: 'category',
          label: 'Filters',
          link: { type: 'doc', id: 'plugins/filters/index' },
          items: [
            'plugins/filters/filter-local-search',
            'plugins/filters/filter-strict-equal',
          ],
        },
        {
          type: 'category',
          label: 'File Storage',
          link: { type: 'doc', id: 'plugins/files/index' },
          items: [
            'plugins/files/file-gridfs',
            'plugins/files/file-minio',
          ],
        },
        {
          type: 'category',
          label: 'Workers',
          link: { type: 'doc', id: 'plugins/workers/index' },
          items: [
            'plugins/workers/worker-email',
            'plugins/workers/worker-bulk-import',
            'plugins/workers/worker-http-request',
            'plugins/workers/worker-external',
            'plugins/workers/worker-heartbeat',
            'plugins/workers/worker-zombie-killer',
            'plugins/workers/worker-message',
            'plugins/workers/worker-error-notifications',
            'plugins/workers/push-notification',
            'plugins/workers/twilio',
            'plugins/workers/worker-bulkgate',
            'plugins/workers/worker-budgetsms',
            'plugins/workers/worker-update-ecb-rates',
            'plugins/workers/worker-update-coinbase-rates',
            'plugins/workers/worker-enrollment-order-generator',
            'plugins/workers/worker-export-token',
            'plugins/workers/worker-token-ownership',
          ],
        },
        {
          type: 'category',
          label: 'Events',
          link: { type: 'doc', id: 'plugins/events/index' },
          items: [
            'plugins/events/events-node',
            'plugins/events/events-redis',
            'plugins/events/events-eventbridge',
          ],
        },
        {
          type: 'category',
          label: 'Quotations',
          link: { type: 'doc', id: 'plugins/quotations/index' },
          items: [
            'plugins/quotations/quotation-manual',
          ],
        },
        {
          type: 'category',
          label: 'Enrollments',
          link: { type: 'doc', id: 'plugins/enrollments/index' },
          items: [
            'plugins/enrollments/enrollment-licensed',
          ],
        },
      ],
    },

    // Troubleshooting
    {
      type: 'category',
      label: 'Troubleshooting',
      link: {
        type: 'doc',
        id: 'troubleshooting/index',
      },
      items: [
        'troubleshooting/faq',
      ],
    },

    // Migrations
    'migrations',
  ],

  // Guides sidebar (separate section)
  guidesSidebar: [
    {
      type: 'doc',
      id: 'guides/index',
      label: 'Overview',
    },
    'guides/building-a-storefront',
    'guides/checkout-implementation',
    'guides/payment-integration',
    'guides/search-and-filtering',
    'guides/multi-language-setup',
    'guides/multi-currency-setup',
    'guides/bulk-import',
    'guides/file-uploads',
    'guides/custom-pricing',
    'guides/ticketing-setup',
  ],

  // Admin UI sidebar (separate section)
  adminUiSidebar: [
    {
      type: 'autogenerated',
      dirName: 'admin-ui',
    },
  ],
};

export default sidebars;
